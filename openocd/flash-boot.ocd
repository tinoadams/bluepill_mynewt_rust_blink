# This is an OpenOCD script that connects to the STM32 Blue Pill and flashes the Bootloader ROM.
# Used by tasks.json for "Load bluepill_boot" command.
# Equivalent to "newt load -v bluepill_boot".
# openocd -f scripts/flash-init.ocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg -f scripts/flash-boot.ocd

echo "Flashing Bootloader to Blue Pill..."
flash write_image erase unlock bin/mynewt.elf.bin 0x08000000
flash verify_bank 0            bin/mynewt.elf.bin 0
echo ""
